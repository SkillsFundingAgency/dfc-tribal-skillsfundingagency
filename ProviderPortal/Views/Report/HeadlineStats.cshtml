@model Tribal.SkillsFundingAgency.ProviderPortal.Models.HeadlineStatsReportViewModel
@{
    ViewBag.Title = AppGlobal.Language.GetText(this, "Title", "SFA Headline Statistics");
}

<h2>@AppGlobal.Language.GetText(this, "Header", "SFA Headline Statistics")</h2>
<hr/>
@Html.Raw(AppGlobal.Language.GetText(this, "TableHeader", ""))

<table class="dataTable dt-responsive table table-striped table-bordered" data-ajax="@Url.Action("HeadlineStatsJson")" data-created-row="rowCreated" data-name-index="2">
    <thead>
        <tr>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().NumberOfCourses)
            </th>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().NumberOfOpportunities)
            </th>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().NumberOfPoorProviders)
            </th>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().NumberOfAverageProviders)
            </th>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().NumberOfGoodProviders)
            </th>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().NumberOfVeryGoodProviders)
            </th>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().AverageQualityScorePercent)
            </th>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().AverageQualityScoreText)
            </th>
            <th scope="col">
                @Html.DisplayNameFor(m => m.Items.First().ZeroCourses)
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Items)
        {
            <tr>
                <td>
                    @Html.DisplayFor(m => item.NumberOfCourses)
                </td>
                <td>
                    @Html.DisplayFor(m => item.NumberOfOpportunities)
                </td>
                <td>
                    @Html.DisplayFor(m => item.NumberOfPoorProviders)
                </td>
                <td>
                    @Html.DisplayFor(m => item.NumberOfAverageProviders)
                </td>
                <td>
                    @Html.DisplayFor(m => item.NumberOfGoodProviders)
                </td>
                <td>
                    @Html.DisplayFor(m => item.NumberOfVeryGoodProviders)
                </td>
                <td>
                    @Html.DisplayFor(m => item.AverageQualityScorePercent)
                </td>
                <td>
                    @Html.DisplayFor(m => item.AverageQualityScoreText)
                </td>
                <td>
                    @Html.DisplayFor(m => item.ZeroCourses)
                </td>
            </tr>
        }
    </tbody>
</table>

@*@section Scripts {
    
    <script type="text/javascript">

        var nameIndex = parseInt($("table.dataTable").data("name-index"));

        function rowCreated(row, data, index) {
            var $name = $("td:eq(" + nameIndex + ")", row);
            $name.html("<a class='btn-link' href='@Url.Action("Dashboard","Report")/" + data[0] + "'>" + $name.text() + "</a>");
        }

    </script>
}*@


